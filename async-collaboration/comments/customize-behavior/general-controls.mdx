---
title: "General Controls"
---
{/* <script>var SUPERFLOW_TOOLBAR_API_KEY="aU1MxKP0rca2UXwKi8bl"; var SUPERFLOW_TOOLBAR_PROJECT_ID="8447060215973283";</script> */}
<script id="setWindowVariableScript" src="https://snippyly-demo-html-dev.web.app/set-window-variable.js?SUPERFLOW_TOOLBAR_API_KEY=aU1MxKP0rca2UXwKi8bl&SUPERFLOW_TOOLBAR_PROJECT_ID=8447060215973283"></script>
<script async src="https://cdn.jsdelivr.net/npm/@usesuperflow/toolbar/superflow.min.js"></script>

<Tabs>
<Tab title="React / Next.js">


<Steps titleSize="h2">

<Step title="Allow comments only on certain elements">

Provide a list of element DOM IDs where commenting should be allowed.

Comments will be disabled for all other elements. Note, this does not impact `Popover` mode.

```js
<VeltComments allowedElementIds={['some-element']} />
````

API Method:

```jsx
const commentElement = client.getCommentElement();
commentElement.allowedElementIds['some-element'];
```

</Step>

<Step title="Disable comments on certain elements">
Disable certain elements from being commented on.

Add the `data-velt-comment-disabled` attribute to elements where you want to disable commenting.

```html
<div data-velt-comment-disabled></div>
```

</Step>

<Step title="Enable or Disabling the Comment Tool button">

Whether the Comment Tool button is Enabled.

`Default: true`

When the Comment Tool is disabled, it can not be used to leave comments. Other ways to leave comments, such as highlighting text, will also be disabled.

```js
{/* `true` to enable adding comments, `false` to disable adding comments */}
<VeltComments commentTool={false} />
```

Using API methods:
```js
const commentElement = client.getCommentElement();
// to enable adding comments
commentElement.enableCommentTool();
// to disable adding comments
commentElement.disableCommentTool();
```


</Step>

<Step title="Ghost comments">

Whether to show ghost comments on the DOM.

`Default: false`

Ghost comments are comments that were once linked to certain content on the DOM but that content is no longer available. If this is on, we display ghost comments in gray, close to where they were originally positioned on the DOM.

```js
<VeltComments ghostComments={true} />
````

API Method:

```jsx
const commentElement = client.getCommentElement();
commentElement.enableGhostComments();
commentElement.disableGhostComments();
```

</Step>

<Step title="Ghost comments indicator"> 
Whether to show ghost comment labels in the comment sidebar.

`Default: true`

Ghost comments are always shown in the comments sidebar so that users can see the history of all comments. If this is on, we show a label on the comment in the sidebar indicating that the original content on which this comment was added is no longer available. This sets better expectations with the users.

```js
<VeltComments ghostCommentsIndicator={true} />
````

API Method:

```jsx
const commentElement = client.getCommentElement();
commentElement.enableGhostCommentsIndicator();
commentElement.disableGhostCommentsIndicator();
```

</Step>


<Step title="Enabling Sidebar Button on Comment Dialog">

Whether the Sidebar Button on Comment Dialogs show up.

`Default: true`

By Default, each Comment Dialog has a button at the bottom that will open the Comments Sidebar when clicked.

To disable it, you can set it to false:

```jsx
<VeltComments sidebarButtonOnCommentDialog={true} />
```

API Methods:

```jsx
const commentElement = client.getCommentElement();
commentElement.enableSidebarButtonOnCommentDialog()
commentElement.disableSidebarButtonOnCommentDialog() 
```

</Step>

<Step title="Subscribing to Sidebar Button Clicks on Comment Dialog">

If you want to subscribe to clicks on the Sidebar Button at the bottom of the Comment Dialog you can do so by passing a callback to the `onSidebarButtonOnCommentDialogClick` event handler.


```jsx
<VeltComments onSidebarButtonOnCommentDialogClick={(event)=>yourMethod(event)} />
```

API Methods:

```jsx
const commentElement = client.getCommentElement();
commentElement.onSidebarButtonOnCommentDialogClick().subscribe((event) => yourMethod(event));
```



</Step>




</Steps>

</Tab>


<Tab title="HTML">


<Steps titleSize="h2">

<Step title="Allow comments only on certain elements">

Provide a list of element DOM IDs where commenting should be allowed.

Comments will be disabled for all other elements. Note, this does not impact `Popover` mode.

```js
<velt-comments allowed-element-ids="['some-element']"></velt-comments>
````

API Method:

```jsx
const commentElement = Velt.getCommentElement();
commentElement.allowedElementIds['some-element'];
```

</Step>

<Step title="Disable comments on certain elements">
Disable certain elements from being commented on.

Add the `data-velt-comment-disabled` attribute to elements where you want to disable commenting.

```html
<div data-velt-comment-disabled></div>
```

</Step>

<Step title="Enable or Disabling the Comment Tool button">

Whether the Comment Tool button is Enabled.

`Default: true`

When the Comment Tool is disabled, it can not be used to leave comments. Other ways to leave comments, such as highlighting text, will also be disabled.

```js
<!-- `true` to enable adding comments, `false` to disable adding comments -->
<velt-comments comment-tool="false"></velt-comments>
```

Using API methods:
```js
const commentElement = Velt.getCommentElement();
// to enable adding comments
commentElement.enableCommentTool();
// to disable adding comments
commentElement.disableCommentTool();
```


</Step>

<Step title="Ghost comments">

Whether to show ghost comments on the DOM.

`Default: false`

Ghost comments are comments that were once linked to certain content on the DOM but that content is no longer available. If this is on, we display ghost comments in gray, close to where they were originally positioned on the DOM.

```js
<velt-comments ghost-comments="true"></velt-comments>
````

API Method:

```jsx
const commentElement = Velt.getCommentElement();
commentElement.enableGhostComments();
commentElement.disableGhostComments();
```

</Step>

<Step title="Ghost comments indicator"> 
Whether to show ghost comment labels in the comment sidebar.

`Default: true`

Ghost comments are always shown in the comments sidebar so that users can see the history of all comments. If this is on, we show a label on the comment in the sidebar indicating that the original content on which this comment was added is no longer available. This sets better expectations with the users.

```js
<velt-comments ghost-comments-indicator="true"></velt-comments>
````

API Method:

```jsx
const commentElement = Velt.getCommentElement();
commentElement.enableGhostCommentsIndicator();
commentElement.disableGhostCommentsIndicator();
```

</Step>


<Step title="Enabling Sidebar Button on Comment Dialog">

Whether the Sidebar Button on Comment Dialogs show up.

`Default: true`

By Default, each Comment Dialog has a button at the bottom that will open the Comments Sidebar when clicked.

To disable it, you can set it to false:

```jsx
<velt-comments sidebar-button-comment-dialog="true"></velt-comments>
```

API Methods:

```jsx
const commentElement = Velt.getCommentElement();
commentElement.enableSidebarButtonOnCommentDialog()
commentElement.disableSidebarButtonOnCommentDialog() 
```

</Step>

<Step title="Subscribing to Sidebar Button Clicks on Comment Dialog">

If you want to subscribe to clicks on the Sidebar Button at the bottom of the Comment Dialog you can do so by passing a callback to the `onSidebarButtonOnCommentDialogClick` event handler.


API Methods:

```jsx
const commentElement = Velt.getCommentElement();
commentElement.onSidebarButtonOnCommentDialogClick().subscribe((event) => yourMethod(event));
```

</Step>




</Steps>

</Tab>

</Tabs>

<RequestExample>

```jsx React / Next.js

import { VeltComments, useVeltClient } from '@veltdev/react';

import { useEffect } from 'react'

export default function YourDocument() {
  const { client } = useVeltClient();

  useEffect(()=>{
    if(client){
      const commentElement = client.getCommentElement();
      commentElement.allowedElementIds['some-element']; // 1
      commentElement.enableCommentTool(); // 3
      commentElement.disableCommentTool(); // 3
      commentElement.enableGhostComments(); // 4
      commentElement.disableGhostComments(); // 4
      commentElement.enableGhostCommentsIndicator(); // 5
      commentElement.disableGhostCommentsIndicator(); // 5
    }

  })

  return (
    <div>
        <div data-velt-comment-disabled></div> {/* 2 */}

        <VeltComments  
            allowedElementIds={['some-element']} {/* 1 */}
            commentTool={false}  {/* 3 */}
            ghostComments={true} {/* 4 */}
            ghostCommentsIndicator={true} {/* 5 */}

        />
    </div>
  )
}
```

```html HTML
<body>
  <div data-velt-comment-disabled></div> 

  <velt-comments
      allowed-element-ids="['some-element']"
      comment-tool="false"  
      ghost-comments="true"
      ghost-comments-indicator="true"
  ></velt-comments>

<script>
  if(Velt){
    const commentElement = Velt.getCommentElement();
    commentElement.allowedElementIds['some-element']; // 1
    commentElement.enableCommentTool(); // 3
    commentElement.disableCommentTool(); // 3
    commentElement.enableGhostComments(); // 4
    commentElement.disableGhostComments(); // 4
    commentElement.enableGhostCommentsIndicator(); // 5
    commentElement.disableGhostCommentsIndicator(); // 5
  }
</script>
</body>
```

</RequestExample>