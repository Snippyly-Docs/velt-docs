---
title: "Customize Behavior"
---
{/* <script>var SUPERFLOW_TOOLBAR_API_KEY="aU1MxKP0rca2UXwKi8bl"; var SUPERFLOW_TOOLBAR_PROJECT_ID="8447060215973283";</script> */}
<script id="setWindowVariableScript" src="https://snippyly-demo-html-dev.web.app/set-window-variable.js?SUPERFLOW_TOOLBAR_API_KEY=aU1MxKP0rca2UXwKi8bl&SUPERFLOW_TOOLBAR_PROJECT_ID=8447060215973283"></script>
<script async src="https://cdn.jsdelivr.net/npm/@usesuperflow/toolbar/superflow.min.js"></script>

<Tabs>
  <Tab title="React">
### 1) Enable custom navigation
Use a callback for custom navigation or side-effects.

When the leader of a flock navigates, we can use the React Router to update the follower's position. In the callback you will receive a PageInfo object.

```js
<VeltPresence onNavigate={(pageInfo) => navigate(pageInfo.path)} />
```

#### PageInfo


<ResponseField name="baseUrl" type="string">
The base URL of the site
</ResponseField> 

<ResponseField name="path" type="string">
The path after the base URL
</ResponseField>

<ResponseField name="url" type="string">
The full URL
</ResponseField>

### 2) Disable default flock navigation

Disable default flock navigation.

Our default navigation uses window.location.href to detect navigation. If you are handling navigation using the callback method above, you should disable our default navigation.

```js
<VeltPresence defaultFlockNavigation={true} />
```


### 3) Start or Stop Following a User

You can start or Stop Following a User by calling the `startFollowingUser()` and `stopFollowingUser()` methods within a useEffect() hook.

#### Start Following

Start following a user by passing in their user ID to the `startFollowingUser()` method.

You can programatically start a flock session by passing in the user ID of the user you want to lead the session.

```js
// Stop following the user
presenceElement.startFollowingUser(userId);
```


#### Stop Following 

Stop flock session for the current user by by calling the `stopFollowingUser()` method.

If the current user is in a flock session, they will be removed from that session. If there are no more followers in the session, the session will be destroyed.

```js
// Stop following the user
presenceElement.stopFollowingUser();
```



  </Tab>
  <Tab title="Next.js">
### 1) Enable custom navigation
Use a callback for custom navigation or side-effects.

When the leader of a flock navigates, we can use the React Router to update the follower's position. In the callback you will receive a PageInfo object.

```js
<VeltPresence onNavigate={(pageInfo) => navigate(pageInfo.path)} />
```

#### PageInfo


<ResponseField name="baseUrl" type="string">
The base URL of the site
</ResponseField> 

<ResponseField name="path" type="string">
The path after the base URL
</ResponseField>

<ResponseField name="url" type="string">
The full URL
</ResponseField>

### 2) Disable default flock navigation

Disable default flock navigation.

Our default navigation uses window.location.href to detect navigation. If you are handling navigation using the callback method above, you should disable our default navigation.

```js
<VeltPresence defaultFlockNavigation={true} />
```


### 3) Start or Stop Following a User

You can start or Stop Following a User by calling the `startFollowingUser()` and `stopFollowingUser()` methods within a useEffect() hook.

#### Start Following

Start following a user by passing in their user ID to the `startFollowingUser()` method.

You can programatically start a flock session by passing in the user ID of the user you want to lead the session.

```js
// Stop following the user
presenceElement.startFollowingUser(userId);
```


#### Stop Following 

Stop flock session for the current user by by calling the `stopFollowingUser()` method.

If the current user is in a flock session, they will be removed from that session. If there are no more followers in the session, the session will be destroyed.

```js
// Stop following the user
presenceElement.stopFollowingUser();
```

  </Tab>
    <Tab title="HTML">
    
### 1) Pass in a callback for navigation
Use a callback for custom navigation or side-effects.

When the leader of a flock navigates, this callback will be called.

```js
if (presenceDOMElement) {
  presenceDOMElement.addEventListener("navigate", onNavigateHandler);
}
```

#### PageInfo

<ResponseField name="baseUrl" type="string">
The base URL of the site
</ResponseField> 

<ResponseField name="path" type="string">
The path after the base URL
</ResponseField>

<ResponseField name="url" type="string">
The full URL
</ResponseField>

### 2) Disable default flock navigation

Disable default flock navigation.

If you are handling navigation using a callback, you can opt to disable our default navigation using window.location.href.

```js
<velt-presence disable-flock-navigation="true"></velt-presence>
```


### 3) Start or Stop Following a User

You can start or Stop Following a User by calling the `startFollowingUser()` and `stopFollowingUser()` methods within a script tag.


#### Start Following

Start following a user by passing in their user ID to the `startFollowingUser()` method.

You can programatically start a flock session by passing in the user ID of the user you want to lead the session.

```js
// Stop following the user
presenceElement.startFollowingUser(userId);
```

#### Stop Following 

Stop flock session for the current user by by calling the `stopFollowingUser()` method.

If the current user is in a flock session, they will be removed from that session. If there are no more followers in the session, the session will be destroyed.

```js
// Stop following the user
presenceElement.stopFollowingUser();
```


  </Tab>
</Tabs>

<RequestExample>

```js React
import { VeltPresence } from '@veltdev/react';
import { useNavigate } from 'react-router-dom';
import { useEffect } from 'react';

export default function App() {

  useEffect(() => {
    if (client) {

      const presenceElement = client.getPresenceElement();

      // Pass in the user ID of the user you want to follow
      presenceElement.startFollowingUser(userId);

      // Stop following the user
      presenceElement.stopFollowingUser();

    }
  }, [client]);

  const navigate = useNavigate();

  return (
    <div className="toolbar">
      <VeltPresence
        flockMode={true} 
        onNavigate={(pageInfo) => navigate(pageInfo.path)} {/* 1) Enable Custom Navigation */}
        defaultFlockNavigation={true} {/* 2) Disable Default Flock Navigation */}
      />
    </div>
  );
}
```

```js Next.js
import { VeltPresence } from '@veltdev/react';
import { useNavigate } from 'react-router-dom';
import { useEffect } from 'react';

export default function App() {

  useEffect(() => {
    if (client) {

      const presenceElement = client.getPresenceElement();

      // Pass in the user ID of the user you want to follow
      presenceElement.startFollowingUser(userId);

      // Stop following the user
      presenceElement.stopFollowingUser();

    }
  }, [client]);

  const navigate = useNavigate();

  return (
    <div className="toolbar">
      <VeltPresence
        flockMode={true} 
        onNavigate={(pageInfo) => navigate(pageInfo.path)} {/* 1) Enable Custom Navigation */}
        defaultFlockNavigation={true} {/* 2) Disable Default Flock Navigation */}
      />
    </div>
  );
}
```

```html HTML
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Flock mode documentation</title>
  </head>
  <body>
    <script>
      function onNavigateHandler(pageInfo) {
        // Do something with pageInfo
      }

      const presenceDOMElement = document.querySelector("velt-presence");

      //Enable Custom Navigation
      if (presenceDOMElement) {
        presenceDOMElement.addEventListener("navigate", onNavigateHandler);
      }

      if (window.Velt) {
        const presenceElement = window.Velt.getPresenceElement();

        // Pass in the user ID of the user you want to follow
        presenceElement.startFollowingUser(userId);

        // Stop following the user
        presenceElement.stopFollowingUser();
      }
    </script>

    <div class="toolbar">
      <velt-presence
        flock-mode="true"
        disable-flock-navigation="true"
      ></velt-presence>
    </div>
  </body>
</html>
```

</RequestExample>
