<Warning>These Features are currently in Beta and may be subject to change.</Warning>


<Tabs>
    <Tab title="React">
## Single Editor Mode

With Single Editor Mode, only one user will be able to edit the document at any given time. All other users live on the document will automatically be read-only. 


## 1. Enable Single Editor Mode

Enables single editor mode.

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.enableSingleEditorMode();
```

## 2. Disable Single Editor Mode

Disables single editor mode.


```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.disableSingleEditorMode();
```

## 3. Check if current user is the Editor

It's a subscription that returns:
- `true`: when the current user is set as `editor`
- `false`: when the current user is set as `reader`
-  `null`: when the current user's access is not set.

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.isUserEditor().subscribe((isUserEditor) => {
		// your logic here...
});
```

## 4. Set current user as the Editor

Sets the current user as Editor. Note this will mark all the other users on the document as readonly users.

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.setUserAsEditor();
```

## 5. Reset access for all users

Resets access for all users.

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.resetUserAccess();
```


## 6. Auto Sync State on Text Elements

Auto syncs the content of the following Text HTML elements, such that when `editor` types, the element's content is synced across all active users currently live on the document.
- input
- textarea
- ContentEditable Divs

To enable syncing, follow these two steps:
1. Enable Auto Sync State feature:

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.enableAutoSyncState();
```

2. Set the `data-velt-sync-state` attribute to `true` on the Text HTML element you want to sync:

<Info>You can set an `id` to the HTML element to make the syncing more robust.</Info>

```jsx
<textarea id="uniqueId" data-velt-sync-state="true"></textarea>
```

<Warning>You must add the `data-velt-sync-state` attribute to a native HTML element (e.g. input, textarea). It will not work directly on React components.</Warning>


## 7. Auto Sync Access on HTML Elements

By default in Single Editor Mode, we control enabling and disabling of these html elements on the entire DOM:
- input
- textarea
- select
- button
- contentEditable divs

For users in Read-Only mode, the default elements listed above will be disabled, meaning `click`, `mouseup` and `mousedown` events will be prevented.

If there are any other elements that you want us to control beyond the default elements we listed above, such as `div`, `span` elements etc, then you can add `data-velt-sync-access="true"` to that element.

```jsx
<div data-velt-sync-access="true"></div>
```

<Warning>You must add the `data-velt-sync-access` attribute to native HTML elements (e.g. div, span). It will not work directly on React components.</Warning>


## 8. Exclude default HTML elements from Auto Syncing Access

In Single Editor Mode, we control enabling and disabling of certain html elements on the entire DOM.
If you want to exclude any of those html elements from this behavior, you can add `data-velt-sync-access-disabled="true"` to that element.

```jsx
<button data-velt-sync-access-disabled="true"></button>
```

<Warning>You must add the `data-velt-sync-access-disabled` attribute to native HTML elements (e.g. button, input). It will not work directly on React components.</Warning>


## 9. Restrict Single Editor Mode to Specific Parent Containers

By default Single Editor Mode is enabled at <strong>the entire DOM</strong> level. You can restrict this feature to only certain HTML containers & their children by using the `singleEditorModeContainerIds()` method. It takes in an array of element ID strings. These IDs represent the parent elements within which Single Editor Mode will be enabled.

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateElement.singleEditorModeContainerIds(["rightPanel"]);
```


    </Tab>
    <Tab title="Next.js">
## Single Editor Mode

With Single Editor Mode, only one user will be able to edit the document at any given time. All other users live on the document will automatically be read-only. 


## 1. Enable Single Editor Mode

Enables single editor mode.

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.enableSingleEditorMode();
```

## 2. Disable Single Editor Mode

Disables single editor mode.


```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.disableSingleEditorMode();
```

## 3. Check if current user is the Editor

It's a subscription that returns:
- `true`: when the current user is set as `editor`
- `false`: when the current user is set as `reader`
-  `null`: when the current user's access is not set.

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.isUserEditor().subscribe((isUserEditor) => {
		// your logic here...
});
```

## 4. Set current user as the Editor

Sets the current user as Editor. Note this will mark all the other users on the document as readonly users.

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.setUserAsEditor();
```

## 5. Reset access for all users

Resets access for all users.

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.resetUserAccess();
```


## 6. Auto Sync State on Text Elements

Auto Syncs the content of the following Text HTML elements, such that when `editor` types, the element's content is synced across all active users currently live on the document.
- input
- textarea
- ContentEditable Divs

To enable syncing, follow these two steps:
1. Enable Auto State Sync feature:

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.enableAutoSyncState();
```

2. Set the `data-velt-sync-state` attribute to `true` on the Text HTML element you want to sync:

<Info>You can set an `id` to the HTML element to make the syncing more robust.</Info>

```jsx
<textarea id="uniqueId" data-velt-sync-state="true"></textarea>
```

<Warning>You must add the `data-velt-sync-state` attribute to a native HTML element (e.g. input, textarea). It will not work directly on React components.</Warning>


## 7. Auto Syncing Access on HTML Elements

By default in Single Editor Mode, we control enabling and disabling of these html elements on the entire DOM:
- input
- textarea
- select
- button
- contentEditable divs

For users in Read-Only mode, the default elements listed above will be disabled, meaning `click`, `mouseup` and `mousedown` events will be prevented.

If there are any other elements that you want us to control beyond the default elements we listed above, such as `div`, `span` elements etc, then you can add `data-velt-sync-access="true"` to that element.

```jsx
<div data-velt-sync-access="true"></div>
```

<Warning>You must add the `data-velt-sync-access` attribute to native HTML elements (e.g. div, span). It will not work directly on React components.</Warning>


## 8. Exclude default HTML elements from Auto Syncing Access

In Single Editor Mode, we control enabling and disabling of certain html elements on the entire DOM.
If you want to exclude any of those html elements from this behavior, you can add `data-velt-sync-access-disabled="true"` to that element.

```jsx
<button data-velt-sync-access-disabled="true"></button>
```

<Warning>You must add the `data-velt-sync-access-disabled` attribute to native HTML elements (e.g. button, input). It will not work directly on React components.</Warning>


## 9. Restrict Single Editor Mode to Specific Parent Containers

By default Single Editor Mode is enabled at <strong>the entire DOM</strong> level. You can restrict this feature to only certain HTML containers & their children by using the `singleEditorModeContainerIds()` method. It takes in an array of element ID strings. These IDs represent the parent elements within which Single Editor Mode will be enabled.

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateElement.singleEditorModeContainerIds(["rightPanel"]);
```
    </Tab>
    <Tab title="HTML">
## Single Editor Mode

With Single Editor Mode, only one user will be able to edit the document at any given time. All other users live on the document will automatically be read-only. 


## 1. Enable Single Editor Mode

Enables single editor mode.

```jsx
const liveStateSyncElement = Velt.getLiveStateSyncElement();
liveStateSyncElement.enableSingleEditorMode();
```

## 2. Disable Single Editor Mode

Disables single editor mode.


```jsx
const liveStateSyncElement = Velt.getLiveStateSyncElement();
liveStateSyncElement.disableSingleEditorMode();
```

## 3. Check if current user is the Editor

It's a subscription that returns:
- `true`: when the current user is set as `editor`
- `false`: when the current user is set as `reader`
-  `null`: when the current user's access is not set.

```jsx
const liveStateSyncElement = Velt.getLiveStateSyncElement();
liveStateSyncElement.isUserEditor().subscribe((isUserEditor) => {
		// your logic here...
});
```

## 4. Set current user as the Editor

Sets the current user as Editor. Note this will mark all the other users on the document as readonly users.

```jsx
const liveStateSyncElement = Velt.getLiveStateSyncElement();
liveStateSyncElement.setUserAsEditor();
```

## 5. Reset access for all users

Resets access for all users.

```jsx
const liveStateSyncElement = Velt.getLiveStateSyncElement();
liveStateSyncElement.resetUserAccess();
```


## 6. Auto Sync State on Text Elements

Auto Syncs the content of the following Text HTML elements, such that when `editor` types, the element's content is synced across all active users currently live on the document.
- input
- textarea
- ContentEditable Divs

To enable syncing, follow these two steps:
1. Enable Auto State Sync feature:

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateSyncElement.enableAutoSyncState();
```

2. Set the `data-velt-sync-state` attribute to `true` on the Text HTML element you want to sync:

<Info>You can set an `id` to the HTML element to make the syncing more robust.</Info>

```jsx
<textarea id="uniqueId" data-velt-sync-state="true"></textarea>
```



## 7. Auto Syncing Access on HTML Elements

By default in Single Editor Mode, we control enabling and disabling of these html elements on the entire DOM:
- input
- textarea
- select
- button
- contentEditable divs

For users in Read-Only mode, the default elements listed above will be disabled, meaning `click`, `mouseup` and `mousedown` events will be prevented.

If there are any other elements that you want us to control beyond the default elements we listed above, such as `div`, `span` elements etc, then you can add `data-velt-sync-access="true"` to that element.

```jsx
<div data-velt-sync-access="true"></div>
```

## 8. Exclude default HTML elements from Auto Syncing Access

In Single Editor Mode, we control enabling and disabling of certain html elements on the entire DOM.
If you want to exclude any of those html elements from this behavior, you can add `data-velt-sync-access-disabled="true"` to that element.

```jsx
<button data-velt-sync-access-disabled="true"></button>
```


## 9. Restrict Single Editor Mode to Specific Parent Containers

By default Single Editor Mode is enabled at <strong>the entire DOM</strong> level. You can restrict this feature to only certain HTML containers & their children by using the `singleEditorModeContainerIds()` method. It takes in an array of element ID strings. These IDs represent the parent elements within which Single Editor Mode will be enabled.

```jsx
const liveStateSyncElement = client.getLiveStateSyncElement();
liveStateElement.singleEditorModeContainerIds(["rightPanel"]);
```
    </Tab>

</Tabs>



<RequestExample>

```jsx React

//Get Velt Client
import { useVeltClient } from '@veltdev/react';
import { useEffect } from 'react';


function MyComponent(){
    const { client } = useVeltClient();

    useEffect( () => {
        //Get LiveStateSyncElement from Velt Client
        const liveStateSyncElement = client.getLiveStateSyncElement();


        //Enable Single Editor Mode
        liveStateSyncElement.enableSingleEditorMode();

        //Disable Single Editor Mode
        liveStateSyncElement.disableSingleEditorMode();


        //Check if Current User is Editor
        liveStateSyncElement.isUserEditor().subscribe((isUserEditor) => {
                // your logic here...
        });

        //Set Current User as Editor
        liveStateSyncElement.setUserAsEditor();

        //Reset Editor Access
        liveStateSyncElement.resetUserAccess();

        //Restrict Auto Sync Access to Specified Parent Elements
        liveStateSyncElement.singleEditorModeContainerIds(['element-1','element-2'])
    },[])
    return (
        <div>
            {/* Enable Auto State Sync across on Text Elements */}
            <textarea id="uniqueId" data-velt-sync-state="true"></textarea>
            {/* Enable Auto Access Sync on Custom Element*/}
            <div data-velt-sync-access="true"></div>
            {/* Disable Auto Access Sync on Default Elements*/}
            <div data-velt-sync-access-disabled="true"></div>
        </div>
    )
}

```

```jsx Next.js

//Get Velt Client
import { useVeltClient } from '@veltdev/react';
import { useEffect } from 'react';


function MyComponent(){
    const { client } = useVeltClient();

    useEffect( () => {
        //Get LiveStateSyncElement from Velt Client
        const liveStateSyncElement = client.getLiveStateSyncElement();


        //Enable Single Editor Mode
        liveStateSyncElement.enableSingleEditorMode();

        //Disable Single Editor Mode
        liveStateSyncElement.disableSingleEditorMode();


        //Check if Current User is Editor
        liveStateSyncElement.isUserEditor().subscribe((isUserEditor) => {
                // your logic here...
        });

        //Set Current User as Editor
        liveStateSyncElement.setUserAsEditor();

        //Reset Editor Access
        liveStateSyncElement.resetUserAccess();

        //Restrict Auto Sync Access to Specified Parent Elements
        liveStateSyncElement.singleEditorModeContainerIds(['element-1','element-2'])
    },[])
    return (
        <div>
            {/* Enable Auto State Sync across on Text Elements */}
            <textarea id="uniqueId" data-velt-sync-state="true"></textarea>
            {/* Enable Auto Access Sync on Custom Element*/}
            <div data-velt-sync-access="true"></div>
            {/* Disable Auto Access Sync on Default Elements*/}
            <div data-velt-sync-access-disabled="true"></div>
        </div>
    )
}
```

```jsx HTML
<script>
if(Velt){

    //Get LiveStateSyncElement from Velt Client
    const liveStateSyncElement = Velt.getLiveStateSyncElement();


    //Enable Single Editor Mode
    liveStateSyncElement.enableSingleEditorMode();

    //Disable Single Editor Mode
    liveStateSyncElement.disableSingleEditorMode();


    //Check if Current User is Editor
    liveStateSyncElement.isUserEditor().subscribe((isUserEditor) => {
            // your logic here...
    });

    //Set Current User as Editor
    liveStateSyncElement.setUserAsEditor();

    //Reset Editor Access
    liveStateSyncElement.resetUserAccess();

    //Restrict Auto Sync Access to Specified Parent Elements
    liveStateSyncElement.singleEditorModeContainerIds(['element-1','element-2'])

}
</script>
<body>
    <!-- Enable Auto State Sync across on Text Elements -->
    <textarea data-velt-sync-state="true"></textarea>

    <!-- Enable Auto Access Sync on Custom Element -->
    <div data-velt-sync-access="true"></div>

    <!-- Disable Auto Access Sync on Default Elements -->
    <div data-velt-sync-access-disabled="true"></div>
</body>
```

</RequestExample>

