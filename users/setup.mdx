---
title: "Setup"
description: "Set up User groups and User contact lists to enable Users to @mention and tag eachother within Comments."
---
{/* <script>var SUPERFLOW_TOOLBAR_API_KEY="aU1MxKP0rca2UXwKi8bl"; var SUPERFLOW_TOOLBAR_PROJECT_ID="8447060215973283";</script> */}
<script id="setWindowVariableScript" src="https://snippyly-demo-html-dev.web.app/set-window-variable.js?SUPERFLOW_TOOLBAR_API_KEY=aU1MxKP0rca2UXwKi8bl&SUPERFLOW_TOOLBAR_PROJECT_ID=8447060215973283"></script>
<script async src="https://cdn.jsdelivr.net/npm/@usesuperflow/toolbar/superflow.min.js"></script>

<Tabs>
  <Tab title="React / Next.js">

<Steps>

<Step title="Create a User object">

Create a User object with the correct User schema.

```jsx
let user = {
  uid:"123",
  displayName:"Bob",
  email:"bob@gmail.com",
  photoURL:'https://i.pravatar.cc/300'
}
```

</Step>

<Step title="Set a user group">

Set the user group on the User object you just created.

Over time, as users from the same `groupId` sign in, they will be automatically added to each other's contact list.

```js
  user.groupId = 'some-group-id';
```
</Step>

<Step title="Manually preload the user contact list"> 

Provide the `contacts` field on your User object with an array of User Contact objects.

This will preload the User contact list with an initial list of contacts.

```js
 const contacts = [
        {
          userId: 'd5558f1f-bdea-4eb5-9fd5-ed657e460307',
          name: 'John Doe',
          photoUrl: 'https://i.pravatar.cc/300',
          email: 'john.doe@snippyly.com',
          groupId: 'some-group-id',
          visibility: 'group' //set visibility to `group` to add the contact to all members of the groupId
        },
        {
          userId: 'd5558f1f-bdea-4eb5-9fd5-ed657e460308',
          name: 'Mary Doe',
          photoUrl: 'https://i.pravatar.cc/300',
          email: 'mary.doe@snippyly.com',
          groupId: 'some-group-id',
          visibility: 'private' // set visibilty to `private` to only add the contact to the authenticated User 
        }
      ];
      user.contacts = contacts;
```

<Info>Setting visibility to `private` will only add the contact to the authenticate User instead of all `groupId` members.</Info>

</Step>


<Step title="Authenticate your user">
Authenticate your user with the `identify()` method from the Velt client.

This will configure your user with the `groupId` and `contacts` list you set previously.

```jsx
client.identify(user)
```

</Step>

</Steps>






  </Tab>
  

  <Tab title="HTML">
<Steps>

<Step title="Create a User object">

Create a User object with the correct User schema.

```jsx
let user = {
  uid:"123",
  displayName:"Bob",
  email:"bob@gmail.com",
  photoURL:'https://i.pravatar.cc/300'
}
```

</Step>

<Step title="Set a user group">

Set the user group on the User object you just created.

Over time, as users from the same `groupId` sign in, they will be automatically added to each other's contact list.

```js
  user.groupId = 'some-group-id';
```
</Step>

<Step title="Manually preload the user contact list"> 

Provide the `contacts` field on your User object with an array of User Contact objects.

This will preload the User contact list with an initial list of contacts.

```js
 const contacts = [
        {
          userId: 'd5558f1f-bdea-4eb5-9fd5-ed657e460307',
          name: 'John Doe',
          photoUrl: 'https://i.pravatar.cc/300',
          email: 'john.doe@snippyly.com',
          groupId: 'some-group-id',
          visibility: 'group' //set visibility to `group` to add the contact to all members of the groupId
        },
        {
          userId: 'd5558f1f-bdea-4eb5-9fd5-ed657e460308',
          name: 'Mary Doe',
          photoUrl: 'https://i.pravatar.cc/300',
          email: 'mary.doe@snippyly.com',
          groupId: 'some-group-id',
          visibility: 'private' // set visibilty to `private` to only add the contact to the authenticated User 
        }
      ];
      user.contacts = contacts;
```

<Info>Setting visibility to `private` will only add the contact to the authenticate User instead of all `groupId` members.</Info>

</Step>


<Step title="Authenticate your user">
Authenticate your user with the `identify()` method from the Velt client.

This will configure your user with the `groupId` and `contacts` list you set previously.

```jsx
Velt.identify(user)
```

</Step>

</Steps>

  </Tab>
</Tabs>

<RequestExample>

```js React / Next.js

import { useVeltClient } from '@veltdev/react';
import { useEffect } from 'react';

export default function App() {

  const { client } = useVeltClient();

  useEffect(() => {
    if (client && yourAuthenticatedUser) {
      const { uid, displayName, email, photoURL } = yourAuthenticatedUser;

      const user = {
        userId: uid,
        name: displayName,
        email: email,
        photoUrl: photoURL
      };

      // 1) Set a user group
      // Use your own logic to determine the group the user belongs to
      user.groupId = 'some-group-id';

      // 2) Manually bootstrap user contact list
      // You can pass contacts as an array of UserContact objects.
      // These contacts will show up in various features (eg: comments) so that user can tag, @mention them.
      const contacts = [
        {
          userId: 'd5558f1f-bdea-4eb5-9fd5-ed657e460307',
          name: 'John Doe',
          photoUrl: 'https://i.pravatar.cc/300',
          email: 'john.doe@snippyly.com',
          visibility: 'group'
        },
        {
          userId: 'd5558f1f-bdea-4eb5-9fd5-ed657e460308',
          name: 'Mary Doe',
          photoUrl: 'https://i.pravatar.cc/300',
          email: 'mary.doe@snippyly.com',
          visibility: 'private' //3) Add private contacts (optional)
        }
      ];
      user.contacts = contacts;

      client.identify(user);
    }
  }, [client, yourAuthenticatedUser]);

  return (
    // Your app template
  );
}
```

```js HTML
<script>

    if (Velt && yourAuthenticatedUser) {
      const { uid, displayName, email, photoURL } = yourAuthenticatedUser;

      const user = {
        userId: uid,
        name: displayName,
        email: email,
        photoUrl: photoURL
      };

      // 1) Set a user group
      // Use your own logic to determine the group the user belongs to
      user.groupId = 'some-group-id';

      // 2) Manually bootstrap user contact list
      // You can pass contacts as an array of UserContact objects.
      // These contacts will show up in various features (eg: comments) so that user can tag, @mention them.
      const contacts = [
        {
          userId: 'd5558f1f-bdea-4eb5-9fd5-ed657e460307',
          name: 'John Doe',
          photoUrl: 'https://i.pravatar.cc/300',
          email: 'john.doe@snippyly.com',
          visibility: 'group'
        },
        {
          userId: 'd5558f1f-bdea-4eb5-9fd5-ed657e460308',
          name: 'Mary Doe',
          photoUrl: 'https://i.pravatar.cc/300',
          email: 'mary.doe@snippyly.com',
          visibility: 'private' //3) Add private contacts (optional)
        }
      ];
      user.contacts = contacts;
      Velt.identify(user);
      
```

</RequestExample>
