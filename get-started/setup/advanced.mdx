---
title: "Advanced Setup Options"
---
{/* <script>var SUPERFLOW_TOOLBAR_API_KEY="aU1MxKP0rca2UXwKi8bl"; var SUPERFLOW_TOOLBAR_PROJECT_ID="8447060215973283";</script> */}
<script id="setWindowVariableScript" src="https://snippyly-demo-html-dev.web.app/set-window-variable.js?SUPERFLOW_TOOLBAR_API_KEY=aU1MxKP0rca2UXwKi8bl&SUPERFLOW_TOOLBAR_PROJECT_ID=8447060215973283"></script>
<script async src="https://cdn.jsdelivr.net/npm/@usesuperflow/toolbar/superflow.min.js"></script>

<Tabs>
  <Tab title="React / Next.js">

## Advanced Set Up options

This section includes a list of optional advanced set up options.

## Location

Users logged into the same **Document** ID can see each other's `Presence`, `Cursors`, `Comments` etc. 

However, if you want to add another layer of categorization to organize users together, you can use **Location**.

For an example, for a Collaborative Slide Presentation application, the **Document** would represent the entire slide presentation while the **Location** would represent an individual slide.

As another example, for a Collaborative Video Editor, the **Document** would represent the entire video player while the **Location** would represent the timestamp of the video.

<Tip> If a **Document** is like a house, a **Location** is like a room within the house. </Tip>

**Locations** are _completely optional_, you can opt to use them or not. If the complexity of your application does not require the use of **Locations**, you can use **Documents** by themselves to group your users together.

If you opt to use **Locations**, users in the same **Document** must also be in the same **Location** now to interact. 

A **Location** can be described using any plain JSON object and can be set using the `setLocation()` method.

This object could represent your app's pages, sections, versions, video frames, or data points on maps/charts etc. 

```jsx
client.setLocation({
  'page': 'mainPage',
  'version': 'v1.2',
  'videoFrame': '120'
  // You can keep adding more field to make the location very specific.
  // The field names can be anything.
})
```

If you specify a **Location**, users in the same **Document** will no longer be able to interact if they are not also in the same **Location**.

To use a **Location** together with a **Document**, simply call the **setDocumentID()** method before the **setLocation()** method.

```js 
client.setDocumentID('some_document_id');
client.setLocation({
  'page': 'mainPage',
  'version': 'v1.2',
  'videoFrame': '120'
  // You can keep adding more field to make the location very specific.
  // The field names can be anything.
})
```


To remove a `Location` that has already been set, you can use the `client.removeLocation()` method:

```jsx
client.removeLocation()
```

## Adding multiple Locations

To add multiple locations that are meant to be active at the same time, use the `client.addLocation()` method:

```jsx
client.setDocumentID('some_document_id');

client.addLocation({
  'page': 'scene1',
  'version': 'v1.2',
  'videoFrame': '120'
})

client.addLocation({
  'page': 'scene2',
  'version': 'v1.2',
  'videoFrame': '50'
})

client.addLocation({
  'page': 'scene3',
  'version': 'v1.2',
  'videoFrame': '80'
})
```

<Info>
Currently, if you have multiple locations you can not modify individual locations directly. You will need to remove all locations with `client.removeLocation()` and re-add them with the changes you want to see.
</Info>

### Location data attributes

If you have multiple locations and want to designate a container to represent a location you can use the `data-velt-location` attribute.

Add the `data-velt-location` attribute to the top level of an element where you want to link your location.

You can link your location to the element by passing a key value pair that exists within the location on the data attribute.

<Warning>
Be sure to convert the key value pair to a string before passing it to the data attribute.
</Warning>


```html 
<div class="container">
  // If you want to add comments to location {"key1": "value1"}, if it is added inside below div
  // then add location attribute to below div as mentioned here
  <div class="sub-container" data-snippyly-location='{"key1": "value1"}'>
    <div class="card">
      ... any content ...
    </div>
  </div>
</div>
```

</Tab>
  
  
<Tab title="HTML">

## Advanced Set Up options

This section includes a list of optional advanced set up options.

## Location

Users logged into the same **Document** ID can see each other's `Presence`, `Cursors`, `Comments` etc. 

However, if you want to add another layer of categorization to organize users together, you can use **Location**.

For an example, for a Collaborative Slide Presentation application, the **Document** would represent the entire slide presentation while the **Location** would represent an individual slide.

As another example, for a Collaborative Video Editor, the **Document** would represent the entire video player while the **Location** would represent the timestamp of the video.

<Tip> If a **Document** is like a house, a **Location** is like a room within the building. </Tip>

**Locations** are _completely optional_, you can opt to use them or not. If the complexity of your application does not require the use of **Locations**, you can use **Documents** by themselves to group your users together.

If you opt to use **Locations**, users in the same **Document** must also be in the same **Location** now to interact. 

A **Location** can be described using any plain JSON object and can be set using the `setLocation()` method.

This object could represent your app's pages, sections, versions, video frames, or data points on maps/charts etc. 

```jsx
Velt.setLocation({
  'page': 'mainPage',
  'version': 'v1.2',
  'videoFrame': '120'
  // You can keep adding more field to make the location very specific.
  // The field names can be anything.
})
```

If you specify a **Location**, users in the same **Document** will no longer be able to interact if they are not also in the same **Location**.

To use a **Location** together with a **Document**, simply call the **setDocumentID()** method before the **setLocation()** method.

```js 
if (Velt) {
  Velt.setDocumentID('some_document_id');
  Velt.setLocation({
    'page': 'mainPage',
    'version': 'v1.2',
    'videoFrame': '120'
    // You can keep adding more field to make the location very specific.
    // The field names can be anything.
  })
}
```

To remove a `Location` that has already been set, you can use the `client.removeLocation()` method:

```jsx
client.removeLocation()
```

## Adding multiple Locations

To add multiple locations that are meant to be active at the same time, use the `client.addLocation()` method:

```jsx
client.setDocumentID('some_document_id');

client.addLocation({
  'page': 'scene1',
  'version': 'v1.2',
  'videoFrame': '120'
})

client.addLocation({
  'page': 'scene2',
  'version': 'v1.2',
  'videoFrame': '50'
})

client.addLocation({
  'page': 'scene3',
  'version': 'v1.2',
  'videoFrame': '80'
})
```

<Info>
Currently, if you have multiple locations you can not modify individual locations directly. You will need to remove all locations with `client.removeLocation()` and re-add them with the changes you want to see.
</Info>

### Location data attributes

If you have multiple locations and want to designate a container to represent a location you can use the `data-velt-location` attribute.

Add the `data-velt-location` attribute to the top level of an element where you want to link your location.

You can link your location to the element by passing a key value pair that exists within the location on the data attribute.

<Warning>
Be sure to convert the key value pair to a string before passing it to the data attribute.
</Warning>


```html 
<div class="container">
  // If you want to add comments to location {"key1": "value1"}, if it is added inside below div
  // then add location attribute to below div as mentioned here
  <div class="sub-container" data-snippyly-location='{"key1": "value1"}'>
    <div class="card">
      ... any content ...
    </div>
  </div>
</div>
```



  </Tab>

</Tabs>

<RequestExample>

```js React / Next.js
import { useVeltClient } from '@veltdev/react';
import { useEffect, useState } from 'react';

export default function YourDocument() {

  const { client } = useVeltClient();

  useEffect(() => {
    
    if (client) {
        //Set Document ID
        client.setDocumentID('some_document_id');

        //Set Location
        client.setLocation({
            'page': 'mainPage',
            'version': 'v1.2',
            'videoFrame': '120'
            // You can keep adding more field to make the location very specific.
            // The field names can be anything.
        })
    }
  }, [client]);

  return (
    <div>
      //your document template
    </div>
    
  );
}
```



```html HTML
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Collaboration App</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@veltdev/sdk@1.0.11/velt.js" onload="loadVelt()"></script>
    <script>
      async function loadVelt() {
        await Velt.init("YOUR_VELT_API_KEY");

        if (Velt) {
          //Set Document ID
          Velt.setDocumentID('some_document_id'); 

          // Set Location
          Velt.setLocation({
            'page': 'mainPage',
            'version': 'v1.2',
            'videoFrame': '120'
            // You can keep adding more field to make the location very specific.
            // The field names can be anything.
          })
        }
      }
    </script>
  </head>
  <body>
    
  </body>
</html>
```

</RequestExample>


