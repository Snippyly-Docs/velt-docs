---
title: "2. Authenticate"
description: "Autheticate your logged in users with the SDK."
---
{/* <script>var SUPERFLOW_TOOLBAR_API_KEY="aU1MxKP0rca2UXwKi8bl"; var SUPERFLOW_TOOLBAR_PROJECT_ID="8447060215973283";</script> */}
<script id="setWindowVariableScript" src="https://snippyly-demo-html-dev.web.app/set-window-variable.js?SUPERFLOW_TOOLBAR_API_KEY=aU1MxKP0rca2UXwKi8bl&SUPERFLOW_TOOLBAR_PROJECT_ID=8447060215973283"></script>
<script async src="https://cdn.jsdelivr.net/npm/@usesuperflow/toolbar/superflow.min.js"></script>

<Tabs>
  <Tab title="React">

## 1) Create a component that will manage your authentication.

Create a component that will manage your authentication.

This component will go as a child component within the VeltProvider component we created in the previous step.

<Warning>It is critical that you do the following steps within a child component and not within the same root component where you placed the VeltProvider.</Warning>

```js

export default function YourAuthComponent() {
  return (
    <div>
      //your auth component template
    </div>
  )
}
```


## 2) Get the Velt client

Import the `useVeltClient` React hook. You can use this hook within your
component to fetch the Velt client. 

<Warning>
Be sure to use the client in a child component of `<VeltProvider>` and not within the same component as `<VeltProvider>`.
</Warning>

```js
import { useVeltClient } from '@veltdev/react';
```

```js
const { client } = useVeltClient();
```

## 3) Create a useEffect hook

Create the hook with the `client` and `your authenticated user` as dependencies.

```js
  useEffect(() => {
    if (client && yourAuthenticatedUser) {
      // Fetch the relevant user info from your authenticated user object.
    }
  }, [client, yourAuthenticatedUser]);
```

## 4) Fetch relevant user info

Create a Velt User object by taking the relevant fields from your authenticated User object.

```js

  // Fetch the relevant user info from your authenticated user object.
  const { uid, displayName, email, photoURL } = yourAuthenticatedUser;

  // Create the Velt user object
  const user = {
    userId: uid,
    name: displayName,
    email: email,
    photoUrl: photoURL
  };
```


To enable @mention in the comments, you need to pass the user's contacts. Learn more about how it works [here](https://docs.velt.dev/users/add-user-contacts/setup).


## 5) Pass the user object to the SDK

Call the `identify()` method and pass in the Velt User.

```js
  client.identify(user);
```


  </Tab>
  <Tab title="Next.js">
## 1) Create a component that will manage your authentication.

Create a component that will manage your authentication.

This component will go as a child component within the VeltProvider component we created in the previous step.

<Warning>It is critical that you do the following steps within a child component and not within the same root component where you placed the VeltProvider.</Warning>

```js

export default function YourComponent() {
  return (
    <div>
      //your auth component template
    </div>
  )
}
```


## 2) Get the Velt client

Import the `useVeltClient` React hook. You can use this hook within your
component to fetch the Velt client. 

<Warning>
Be sure to use the client in a child component of `<VeltProvider>` and not within the same component as `<VeltProvider>`.
</Warning>

```js
import { useVeltClient } from '@veltdev/react';
```

```js
const { client } = useVeltClient();
```

## 3) Create a useEffect hook

Create the hook with the `client` and `your authenticated user` as dependencies.

```js
  useEffect(() => {
    if (client && yourAuthenticatedUser) {
      // Fetch the relevant user info from your authenticated user object.
    }
  }, [client, yourAuthenticatedUser]);
```

## 4) Fetch relevant user info

Create a Velt User object by taking the relevant fields from your authenticated User object.

```js

  // Fetch the relevant user info from your authenticated user object.
  const { uid, displayName, email, photoURL } = yourAuthenticatedUser;

  // Create the Velt user object
  const user = {
    userId: uid,
    name: displayName,
    email: email,
    photoUrl: photoURL
  };
```


To enable @mention in the comments, you need to pass the user's contacts. Learn more about how it works [here](https://docs.velt.dev/users/add-user-contacts/setup).


## 5) Pass the user object to the SDK

Call the `identify()` method and pass in the Velt User.

```js
  client.identify(user);
```



  </Tab>
  <Tab title="HTML">

## 1) Identify the Logged In User

Call this function in the component where you authenticate your users once your Velt client and your user object is available. If your .js files are all in one file, you will need to include the .js file on every html page you want the features to be enabled on.
Make sure you pass the user with the fields defined in the User object or refer to the example below.

To enable @mention in the comments, you need to pass the user's contacts. Learn more about how it works [here](https://docs.velt.dev/users/add-user-contacts/setup).

```js
    Velt.identify(yourLoggedInUser)
```

  </Tab>
</Tabs>

<RequestExample>

```js React
//1) Create a component that will represent your auth component

//Warning: Make sure this is a child component to VeltProvider 
//and not within the same file where VeltProvider is placed.

// 2) Get the Velt Client
import { useVeltClient } from '@veltdev/react';
import { useEffect } from 'react';

export default function YourAuthComponent() {

  let yourAuthenticatedUser = {
    uid:"123",
    displayName:"Bob",
    email:"bob@gmail.com",
    photoURL:'https://i.pravatar.cc/300'
  }

  const { client } = useVeltClient();

  // 3) Create a useEffect hook
  useEffect(() => {
    if (client && yourAuthenticatedUser) {

      // 4) Fetch the relevant user info from your authenticated user object.
      const { uid, displayName, email, photoURL } = yourAuthenticatedUser;

      // Create the Velt user object
      const user = {
        userId: uid,
        name: displayName,
        email: email,
        photoUrl: photoURL
      };

      //5) Pass the user object to the SDK
      client.identify(user).then(() => {
        //handle promise
      })

    }
  }, [client, yourAuthenticatedUser]);

  return (
    <div>
    // Your auth component template
    </div>
  );
}

```

```js Next.js
//1) Create a component that will represent your auth component

//Warning: Make sure this is a child component to VeltProvider 
//and not within the same file where VeltProvider is placed.

// 2) Get the Velt Client
import { useVeltClient } from '@veltdev/react';
import { useEffect } from 'react';

export default function YourAuthComponent() {

  let yourAuthenticatedUser = {
    uid:"123",
    displayName:"Bob",
    email:"bob@gmail.com",
    photoURL:'https://i.pravatar.cc/300'
  }

  const { client } = useVeltClient();

  // 3) Create a useEffect hook
  useEffect(() => {
    if (client && yourAuthenticatedUser) {

      // 4) Fetch the relevant user info from your authenticated user object.
      const { uid, displayName, email, photoURL } = yourAuthenticatedUser;

      // Create the Velt user object
      const user = {
        userId: uid,
        name: displayName,
        email: email,
        photoUrl: photoURL
      };

      //5) Pass the user object to the SDK
      client.identify(user).then(() => {
        //handle promise
      })

    }
  }, [client, yourAuthenticatedUser]);

  return (
    <div>
    // Your auth component template
    </div>
  );
}

```


```js HTML

<script>
function identifyVelt() {
	if (Velt) {
    // You need to pass these fields about your logged in user to us.
    const yourLoggedInUser = {
      userId: '9snk30djks9e4mndk',
      name: 'John Doe',
      photoUrl: 'https://i.pravatar.cc/300', //(optional)
      email: 'jdoe@xyz.com',
      plan: 'free', //(optional)
      groupId: 'customerGroupId123', //(optional) If there are multiple users added to the same account, then use this to help us group them together in our system as well.
      
    }
    // 1) Identify the Logged In User
    Velt.identify(yourLoggedInUser).then(() => {
        //handle promise
    })

  }
}
</script>
```

</RequestExample>
